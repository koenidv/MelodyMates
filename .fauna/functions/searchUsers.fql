{
  name: "searchUsers",
  role: null,
  body: Query(
    Lambda(
      ["username"],
      Map(
        Paginate(
          Union(
            Map(
              NGram(LowerCase(Var("username")), 3, 3),
              Lambda("ngram", Match(Index("user_name_ngrams"), Var("ngram")))
            )
          ),
          { size: 12 }
        ),
        Lambda("ref", Get(Var("ref")))
      )
    )
  )
}